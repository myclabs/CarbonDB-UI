<div class="container">
  <h1>
    <span ng-repeat="keyword in keywords">{{keyword.label}} <span ng-show="!$last">-</span> </span>
  </h1>
  <p>
    <h3>Value: {{value.value}} {{unit}}</h3>
    <h2>Groups containing this coefficient</h2>
    <ul>
      <li ng-repeat="(groupId, groupLabel) in groups"><a ng-href="#/group/{{groupId}}">{{groupLabel}}</a></li>
    </ul>

    <h2>Relations</h2>
    <div ng-if="relations.length == 0">This coefficient has relation.</div>
  	<table class="table tmd table-nonfluid" ng-if="relations.length > 0">
  		<tr>
  			<th>Upsteam</th>
  			<th>Coefficient</th>
  			<th>Downstream</th>
        <th></th>
  		</tr>
  		<tr ng-repeat-start="relation in relations">
  			<td ng-if="relation.originId != id">
          <a ng-href="#/process/{{relation.originId}}">
            {{relation.originLabel}}
            <small>[{{relation.originUnit}}]</small>
          </a>
        </td>
        <td>
          {{relation.coeffLabel}}
          <small>[{{relation.coeffUnit}}]</small>
          <sup ng-if="relation.exponent == -1">-1</sup>
        </td>
        <td ng-if="relation.destId != id">
          <a ng-href="#/process/{{relation.destId}}">
            {{relation.destLabel}}
            <small>[{{relation.destUnit}}]</small>
          </a>
        </td>
        <td><a data-toggle="collapse" data-target="#infos-{{$index}}" style="cursor: pointer;">Infos</a></td>
  	 	</tr>
      <tr ng-repeat-end>
        <td colspan="4" class="td-collapse">
          <div class="collapse out" id="infos-{{$index}}">
            <p>Relation type: {{relation.sourceRelation.type.label}}</p>
            <strong>Derived from:</strong>
            <table class="table tmd table-nonfluid">
              <tr>
                <th>Upsteam</th>
                <th>Coefficient</th>
                <th>Downstream</th>
              </tr>
              <tr>
                <td><a ng-href="#/group/{{relation.sourceRelation.source.id}}">{{relation.sourceRelation.source.label}}</a></td>
                <td><a ng-href="#/group/{{relation.sourceRelation.coeff.id}}">{{relation.sourceRelation.coeff.label}} <sup ng-if="relation.sourceRelation.exponent == -1">-1</sup></a></td>
                <td><a ng-href="#/group/{{relation.sourceRelation.destination.id}}">{{relation.sourceRelation.destination.label}}</a></td>
              </tr>
            </table>
          </div>
        </td>
      </tr>
  	</table>
  <hr />
</div>

